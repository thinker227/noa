<?xml version="1.0" encoding="UTF-8"?>

<Root Name="Node">

  <Node Name="Root" Parent="BlockExpression" Concrete="RootSyntax">
    <Inherited Name="Statements"/>
    <Inherited Name="TrailingExpression"/>
  </Node>

  <Node Name="Identifier" Concrete="Token">
    <Value Name="Name" Type="string" Primitive="true"/>
  </Node>

  <Variant Name="Statement" Concrete="StatementSyntax"/>

  <Node Name="Parameter" Concrete="ParameterSyntax">
    <Value Name="IsMutable" Type="bool" Primitive="true"/>
    <Value Name="Identifier" Type="Identifier"/>
  </Node>

  <Variant Name="Declaration" Parent="Statement" Concrete="DeclarationSyntax"/>

  <Node Name="FunctionDeclaration" Parent="Declaration" Concrete="FunctionDeclarationSyntax">
    <Value Name="FuncKeyword" Type="Token" Primitive="true"/>
    <Value Name="Identifier" Type="Identifier"/>
    <List Name="Parameters" Type="Parameter"/>
    <Value Name="ExpressionBody" Type="Expression" Optional="true"/>
    <Value Name="BlockBody" Type="BlockExpression" Optional="true"/>
  </Node>

  <Node Name="LetDeclaration" Parent="Declaration" Concrete="LetDeclarationSyntax">
    <Value Name="LetKeyword" Type="Token" Primitive="true"/>
    <Value Name="IsMutable" Type="bool" Primitive="true"/>
    <Value Name="Identifier" Type="Identifier"/>
    <Value Name="Expression" Type="Expression"/>
  </Node>

  <Node Name="AssignmentStatement" Parent="Statement" Concrete="AssignmentStatementSyntax">
    <Value Name="Target" Type="Expression"/>
    <Value Name="Kind" Type="AssignmentKind" Primitive="true"/>
    <Value Name="Value" Type="Expression"/>
  </Node>

  <Node Name="ExpressionStatement" Parent="Statement" Concrete="ExpressionStatementSyntax">
    <Value Name="Expression" Type="Expression"/>
  </Node>

  <Variant Name="Expression" Concrete="ExpressionSyntax"/>

  <Node Name="ErrorExpression" Parent="Expression" Concrete="ErrorExpressionSyntax"/>

  <Node Name="BlockExpression" Parent="Expression" Concrete="BlockExpressionSyntax">
    <List Name="Statements" Type="Statement"/>
    <Value Name="TrailingExpression" Type="Expression" Optional="true"/>
  </Node>

  <Node Name="CallExpression" Parent="Expression" Concrete="CallExpressionSyntax">
    <Value Name="Target" Type="Expression"/>
    <List Name="Arguments" Type="Expression"/>
  </Node>

  <Node Name="LambdaExpression" Parent="Expression" Concrete="LambdaExpressionSyntax">
    <List Name="Parameters" Type="Parameter"/>
    <Value Name="ArrowToken" Type="Token" Primitive="true"/>
    <Value Name="Body" Type="Expression"/>
  </Node>

  <Node Name="TupleExpression" Parent="Expression" Concrete="TupleExpressionSyntax">
    <List Name="Expressions" Type="Expression"/>
  </Node>

  <Node Name="IfExpression" Parent="Expression" Concrete="IfExpressionSyntax">
    <Value Name="IfKeyword" Type="Token" Primitive="true"/>
    <Value Name="Condition" Type="Expression"/>
    <Value Name="IfTrue" Type="BlockExpression"/>
    <Value Name="Else" Type="ElseClause" Optional="true"/>
  </Node>
  
  <Node Name="ElseClause" Concrete="ElseClauseSyntax">
    <Value Name="ElseKeyword" Type="Token" Primitive="true"/>
    <Value Name="IfFalse" Type="BlockExpression"/>
  </Node>

  <Node Name="LoopExpression" Parent="Expression" Concrete="LoopExpressionSyntax">
    <Value Name="LoopKeyword" Type="Token" Primitive="true"/>
    <Value Name="Block" Type="BlockExpression"/>
  </Node>

  <Node Name="ReturnExpression" Parent="Expression" Concrete="ReturnExpressionSyntax">
    <Value Name="ReturnKeyword" Type="Token" Primitive="true"/>
    <Value Name="Expression" Type="Expression" Optional="true"/>
  </Node>

  <Node Name="BreakExpression" Parent="Expression" Concrete="BreakExpressionSyntax">
    <Value Name="BreakKeyword" Type="Token" Primitive="true"/>
    <Value Name="Expression" Type="Expression" Optional="true"/>
  </Node>

  <Node Name="ContinueExpression" Parent="Expression" Concrete="ContinueExpressionSyntax"/>

  <Node Name="UnaryExpression" Parent="Expression" Concrete="UnaryExpressionSyntax">
    <Value Name="Kind" Type="UnaryKind" Primitive="true"/>
    <Value Name="Operand" Type="Expression"/>
  </Node>

  <Node Name="BinaryExpression" Parent="Expression" Concrete="BinaryExpressionSyntax">
    <Value Name="Left" Type="Expression"/>
    <Value Name="Kind" Type="BinaryKind" Primitive="true"/>
    <Value Name="Right" Type="Expression"/>
  </Node>

  <Node Name="IdentifierExpression" Parent="Expression" Concrete="IdentifierExpressionSyntax">
    <Value Name="Identifier" Type="string" Primitive="true"/>
  </Node>

  <Node Name="StringExpression" Parent="Expression" Concrete="StringExpressionSyntax">
    <List Name="Parts" Type="StringPart"/>
  </Node>

  <Variant Name="StringPart" Concrete="StringPartSyntax"/>

  <Node Name="TextStringPart" Parent="StringPart" Concrete="TextStringPartSyntax">
    <Value Name="Text" Type="string" Primitive="true"/>
  </Node>

  <Node Name="InterpolationStringPart" Parent="StringPart" Concrete="InterpolationStringPartSyntax">
    <Value Name="Expression" Type="Expression"/>
  </Node>

  <Node Name="BoolExpression" Parent="Expression" Concrete="BoolExpressionSyntax">
    <Value Name="Value" Type="bool" Primitive="true"/>
  </Node>

  <Node Name="NumberExpression" Parent="Expression" Concrete="NumberExpressionSyntax">
    <Value Name="Value" Type="double" Primitive="true"/>
  </Node>
  
  <Node Name="NilExpression" Parent="Expression" Concrete="NilExpressionSyntax"/>

</Root>
